<div id="{{ section.settings.form_11_unique_id }}" style="display: none;" class="eleventh-form">
  <div class="form-block-wrapper form-block-11 flex-block flex-center">
    <div class="left-block">
      <div class="left-block-box">
        <!-- <div class="block-num">11</div> -->
        <div class="content-box">
          <p class="ques-text content-heading">
            {{ section.settings.form_11_question }}
          </p>
          <p class="sub-text content-desc">
            {{ section.settings.form_11_question_description }}
          </p>
          <div class="options-box">
            <!-- <form action=""> -->
              <div class="form-container">
                <div class="form-group">
                  <label for="firstname">{{ section.settings.form_11_option_1 }}</label>
                  <input
                    type="text"
                    class="form-control firstname"
                    placeholder="Jane"
                    autocomplete="name"
                    id="{{ section.settings.form_11_first_name_unique_id }}"
                  >
                </div>
                <div class="form-group">
                  <label for="lastname">{{ section.settings.form_11_option_2 }}</label>
                  <input
                    type="text"
                    class="form-control name"
                    placeholder="Smith"
                    autocomplete="name"
                    id="{{ section.settings.form_11_name_unique_id }}"
                  >
                </div>
                <div class="form-group">
                  <label for="lastname">{{ section.settings.form_11_option_3 }}</label>
                  <input
                    type="tel"
                    class="form-control number"
                    placeholder="(506) 234-5678"
                    autocomplete="number"
                    id="{{ section.settings.form_11_phone_unique_id }}"
                  >
                </div>
                <div class="form-group">
                  <label for="lastname">{{ section.settings.form_11_option_4 }}</label>
                  <input
                    type="email"
                    class="form-control email"
                    placeholder="nom@exemple.com"
                    autocomplete="email"
                    id="{{ section.settings.form_11_e_mail_unique_id }}"
                  >
                </div>
              </div>
              <div class="buttons">
                <button class="back-button-11 button" style="display: block;">{{ section.settings.back_btn_text }}</button>
                <button class="next-button-11 button" data-next="{{ section.settings.form_10_unique_id }}"   style="display: none;">{{ section.settings.next_btn_text }}</button>
              </div>
            <!-- </form> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelector('.back-button-11').addEventListener('click', function() {
      const currentSnippet = document.getElementById('{{ section.settings.form_11_unique_id }}');
      const previousSnippet = document.getElementById('{{ section.settings.form_10_unique_id }}');

      if (previousSnippet) {
        previousSnippet.style.display = 'block';
      }

      if (currentSnippet) {
        currentSnippet.style.display = 'none';
      }
    });

   document.querySelector('.next-button-11').addEventListener('click', function() {
      const firstName = document.getElementById('{{ section.settings.form_11_first_name_unique_id }}')?.value.trim();
      const lastName = document.getElementById('{{ section.settings.form_11_name_unique_id }}')?.value.trim();
      const phoneNumber = document.getElementById('{{ section.settings.form_11_phone_unique_id }}')?.value.trim();
      const email = document.getElementById('{{ section.settings.form_11_e_mail_unique_id }}')?.value.trim();
    
      console.log({ firstName, lastName, phoneNumber, email });
    
      if (firstName && lastName && phoneNumber && email) {
        console.log('All fields filled. Proceeding...');
        const currentSnippet = document.getElementById('{{ section.settings.form_11_unique_id }}');
        const nextSnippet = document.getElementById('{{ section.settings.form_16_unique_id }}');
    
        if (nextSnippet) {
          nextSnippet.style.display = 'block';
        } else {
          console.error('Next snippet NOT FOUND');
        }
    
        if (currentSnippet) {
          currentSnippet.style.display = 'none';
        }
      } else {
        showNotification('Please fill in all fields.');
      }
    });


    // document.querySelector(".next-button-11").addEventlistener("click", function () {
    //    const firstName = document.getElementById("{{ section.settings.form_11_first_name_unique_id }}").value.trim();
    //   const lastName = document.querySelector("#{{ section.settings.form_11_name_unique_id }}").value.trim();
    //   const phoneNumber = document.querySelectore("#{{ section.settings.form_11_phone_unique_id }}").value.trim();
    //   const email = document.querySelector("#{{ section.settings.form_11_e_mail_unique_id }}").value.trim;


    //   console.log({firstName && lastName && && phoneNumber && email});

    //   if (firstName && lastName && phoneNumber && email) {
    //     console.log("All fields filled. proceeding...");

    //     const currentSnippet = document.querySelector("#{{ section.settings.form_11_unique_id }}");
    //     const nextSnippet = document.querySelector("#{{ section.settings.form_16_unique_id }}");

    //     if (nextSnippet) {
    //       nextSnippet.style.display = "block";
    //     } else {
    //       console.log("Next Question Not Found!")
    //     }

    //     if (currentSnippet) {
    //       currentSnippet.style.display = "none";
    //     }
    //   } else {
    //     showNotification("Please fill in all the details!");
    //   }
    // });

    const notification = document.createElement("div");
    notification.className = "notification";
    document.body.appendChild(notification);
    
    const showNotification = (message) =>  {
      notification.textContent(message);
      notification.classList.add("show");
      setTimeOut(() => {
        notification.classList.remove("show");
      }, 2500);
    };
  
    const formInputs = document.querySelectorAll('.eleventh-form input');
    formInputs.forEach(input => {
      input.addEventListener('input', function() {
        const firstName = document.getElementById('{{ section.settings.form_11_first_name_unique_id }}').value.trim();
        const lastName = document.getElementById('{{ section.settings.form_11_name_unique_id }}').value.trim();
        const phoneNumber = document.getElementById('{{ section.settings.form_11_phone_unique_id }}').value.trim();
        const email = document.getElementById('{{ section.settings.form_11_e_mail_unique_id }}').value.trim();
        const nextButton = document.querySelector('.next-button-11');

        if (firstName && lastName && phoneNumber && email) {
          nextButton.style.display = 'block';
        } else {
          nextButton.style.display = 'none';
        }
      });
    });
  });
</script>
