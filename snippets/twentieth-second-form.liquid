<div class="twentieth-second-form" id="{{ section.settings.form_22_unique_id }}" style="display: none;">
  <div class="form-block-wrapper form-block-22 flex-block flex-center single-form">
    <div class="left-block">
      <div class="left-block-box">
        <!-- <div class="block-num">22</div> -->
        <div class="content-box">
          <p class="ques-text content-heading">{{ section.settings.form_22_question }}</p>
          <div class="options-box">
            <form action="">
              <div class="form-container">
                <div class="form-group">
                  <input
                    type="text"
                    class="form-control known-allergies"
                    placeholder="RÃ©pondez ici..."
                    autocomplete="name"
                    id="{{ section.settings.form_22_known_allergies_unique_id }}"
                  >
                </div>
              </div>
              <div class="buttons">
                <button class="button" type="button" id="backButton22" style="display: block;">{{ section.settings.back_btn_text }}</button>
                <button class="button" type="button" data-next="{{ section.settings.form_24_unique_id }}" id="nextButton22" style="display: none;">{{ section.settings.next_btn_text }}</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  function handleInputChange22() {
    const knownAllergies = document.querySelector('.known-allergies').value;
    const nextButton22 = document.getElementById('nextButton22');

    if (knownAllergies.trim() !== '') {
      nextButton22.style.display = 'block'; // Show the next button when text is typed
    } else {
      nextButton22.style.display = 'none'; // Hide the next button when no text is entered
    }
  }

  function handleNextClick22() {
    const knownAllergiesId = '{{ section.settings.form_22_known_allergies_unique_id }}';
    const knownAllergies = document.getElementById(knownAllergiesId).value;

    if (knownAllergies) {
      document.getElementById('line_item-' + knownAllergiesId).value = knownAllergies;
      console.log('Form data has been submitted for snippet 22.');
    } else {
      console.log('Please fill in the field for snippet 22.');
    }
    // Change snippet display - Show the next snippet and hide the current snippet
    document.getElementById('{{ section.settings.form_22_unique_id }}').style.display = 'none';
    document.getElementById('do_not_repair_form').style.display = 'block';
  }

  function showPreviousSnippet22() {
    const previousSnippetId = 'travel_by_mail';
    const currentSnippetId = '{{ section.settings.form_22_unique_id }}';

    document.getElementById(previousSnippetId).style.display = 'block';
    document.getElementById(currentSnippetId).style.display = 'none';
  }

  document.addEventListener('DOMContentLoaded', function() {
    const knownAllergiesInput22 = document.querySelector('.known-allergies');
    knownAllergiesInput22.addEventListener('input', handleInputChange22);

    const nextButton22 = document.getElementById('nextButton22');
    nextButton22.addEventListener('click', handleNextClick22);

    const backButton22 = document.getElementById('backButton22');
    backButton22.addEventListener('click', showPreviousSnippet22);
  });
</script>
